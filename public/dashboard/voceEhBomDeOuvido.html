<!DOCTYPE html>
<html lang="pt-br">

<head>
    <link rel="shortcut icon" href="../assets/imgs/logoSemFundo.png">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guitar Play | P√°gina Inicial</title>


    <link rel="stylesheet" href="./../css/dashboards.css">
    <link rel="stylesheet" href="./../css/estilo.css" />

    <script src="../js/sessao.js"></script>
    <script src="../js/alerta.js"></script>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link
        href="https://fonts.googleapis.com/css2?family=Exo+2:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
</head>

<body onload="validarSessao()">

    <div class="janela">

        <div class="header-left dash-header">

            <h1>Guitar Play</h1>

            <div class="hello">
                <h3>Ol√°, <span id="b_usuario">usu√°rio</span>!</h3>
                <h3>Seu n√≠vel √©: <span id="b_nivel">Nivel</span></h3>
                <!-- <h3>Seu cpf √©: <span id="b_cpf">cpf</span></h3> -->
            </div>

            <div class="btn-nav-white">
                <a href="./cards.html">
                    <h3>Aulas</h3>
                </a>
            </div>

            <div class="btn-nav-white">
                <a href="./dashboard.html">
                    <h3>Estat√≠sticas</h3>
                </a>
            </div>

            <div class="btn-nav">
                    <h3>Voc√™ √© bom de ouvido?</h3>
            </div>

            <div class="btn-nav-white">
                <a href="./mural.html">
                    <h3>Troca de Conhecimento</h3>
                </a>
            </div>

            <div class="btn-logout" onclick="limparSessao()">
                <h3>Sair</h3>
            </div>

        </div>

        <div class="fundo_quiz">

            <div id="inicio_quiz" class="questao">
                <h1>Teste se seu ouvido est√° afiado!</h1>
                <div>
                    <button id="comecar" onclick="comecarQuiz()" class="btn_ouvir" >Come√ßar Desafio</button>
                </div>
            </div>

            <div id="pergunta" class="questao" style="display: none;">
                <h1>Qual √© o acorde?üëÇüèΩüéµ</h1>
                <div class="som" >
                    <button id="ouvir" class="btn_ouvir" onclick="som()">Clique para ouvir</button>
                </div>
                <div class="alternativas">
                    <button onclick="validarquestao('C')" id="C" class="btn_alt">C</button>
                    <button onclick="validarquestao('D')" id="D" class="btn_alt">D</button>
                    <button onclick="validarquestao('E')" id="E" class="btn_alt">E</button>
                    <button onclick="validarquestao('F')" id="F" class="btn_alt">F</button>
                    <button onclick="validarquestao('G')" id="G" class="btn_alt">G</button>
                    <button onclick="validarquestao('A')" id="A" class="btn_alt">A</button>
                    <button onclick="validarquestao('B')" id="B" class="btn_alt">B</button>
                </div>
            </div>

        </div>

        <audio id="audio_questao"></audio>
</body>

<script>
    b_usuario.innerHTML = sessionStorage.NOME_USUARIO;
    b_nivel.innerHTML = sessionStorage.NIVEL;

    function comecarQuiz(){
        inicio_quiz.style.display = "none";
        pergunta.style.display = "block";
        pergunta.style.display = "flex";
    }

    var contador = 0;
    var audios = [
        "../assets/audios/C.m4a",
        "../assets/audios/D.m4a",
        "../assets/audios/E.m4a",
        "../assets/audios/F.m4a",
        "../assets/audios/G.m4a",
        "../assets/audios/A_La.m4a",
        "../assets/audios/B.m4a",
    ];

    var respostas = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];

    function som(){
        var botao = document.getElementById('ouvir');
        document.getElementById('audio_questao').src = audios[contador];
        var audio = document.getElementById('audio_questao');
        botao.addEventListener('click', () => {
            audio.play();
        });
    }

    function validarquestao(resposta){
        if(resposta == respostas[contador]){
            document.getElementById(`${resposta}`).style.backgroundColor = 'green';
        } else {
            document.getElementById(`${resposta}`).style.backgroundColor = 'red';
        }
        contador++;
    }

</script>

</html>